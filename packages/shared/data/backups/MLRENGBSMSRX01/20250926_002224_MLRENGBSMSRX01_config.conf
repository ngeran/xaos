## Last changed: 2025-09-25 19:29:59 UTC version 24.2R2-S1.7; groups { basic { system { host-name MLRENGBSMSRX01; root-authentication { encrypted-password "$6$PkA7vUMi$uwFYXquY5xsodND9HLzFRV40/.4.nV/oE15uIOhkI0YHign6YHcHL/jtWO6UJYUoTpRYGhEJQJJkIYblsAevn/"; } login { user admin { uid 2000; class super-user; authentication { encrypted-password "$6$fl8/GUGb$P5D35A7dtiV9weNeb4Km8sdgxbLJjj78Oc43.pvNFmlVGt5epmX/9COWa2.YT9KaCyd9CcasWx704YyGWr6ym."; } } } services { netconf { ssh; } ssh { sftp-server; } } name-server { 8.8.8.8; } } } } apply-groups basic; security { address-book { global { address local-net 172.27.200.0/24; address srx-interface 172.27.200.200/32; } } screen { ids-option untrust-screen { icmp { ping-death; } ip { source-route-option; tear-drop; } tcp { syn-flood { alarm-threshold 1024; attack-threshold 200; source-threshold 1024; destination-threshold 2048; timeout 20; } land; } } } nat { source { rule-set trust-to-untrust { from zone trust; to zone untrust; rule source-nat-rule { match { source-address 0.0.0.0/0; } then { source-nat { interface; } } } } } } policies { from-zone trust to-zone trust { policy trust-to-trust { match { source-address any; destination-address any; application any; } then { permit; } } } from-zone trust to-zone untrust { policy trust-to-untrust { match { source-address any; destination-address any; application any; } then { permit; } } policy allow-ssh-ping { match { source-address local-net; destination-address srx-interface; application [ junos-ping junos-ssh ]; } then { permit; } } } } zones { security-zone trust { host-inbound-traffic { system-services { all; } protocols { all; } } interfaces { irb.0; ge-0/0/0.0; ge-0/0/2.0; lo0.0; } } security-zone untrust { screen untrust-screen; interfaces { dl0.0 { host-inbound-traffic { system-services { tftp; } } } } } } } interfaces { ge-0/0/0 { description Vector-net; unit 0 { family inet { address 172.27.200.200/24; } } } ge-0/0/1 { description TEST; unit 0 { family inet { address 10.100.255.1/30; } } } ge-0/0/2 { description "ETH|MLRENGBSMSRX01|GE-0/0/2|1G|1G|_|WAN"; unit 0 { family inet { address 10.255.0.0/31; } family mpls; } } ge-0/0/6 { unit 0 { family ethernet-switching { vlan { members vlan-trust; } } } } ge-0/0/7 { unit 0 { family inet { dhcp { vendor-id Juniper-srx320; } } } } ge-0/0/10 { description "ETH|10"; unit 0 { family inet { address 10.100.255.5/30; } } } ge-0/0/11 { description "ETH|11"; unit 0 { family inet { address 10.100.100.1/30; } } } cl-1/0/0 { dialer-options { pool 1 priority 100; } } dl0 { unit 0 { family inet { negotiate-address; } family inet6 { negotiate-address; } dialer-options { pool 1; dial-string 1234; always-on; } } } irb { unit 0 { family inet { address 192.168.1.1/24; } } } lo0 { description LOOPBACK; unit 0 { family inet { address 10.100.250.1/32 { primary; preferred; } } } } } policy-options { policy-statement export_policy { term 1 { from { protocol direct; route-filter 10.0.1.0/24 exact; route-filter 10.0.2.0/24 exact; route-filter 10.0.3.0/24 exact; } then accept; } term 2 { then reject; } } policy-statement import_policy { term 1 { from { protocol bgp; route-filter 100.94.26.0/24 exact; route-filter 100.94.27.0/24 exact; } then accept; } term 2 { then reject; } } } firewall { filter ALLOW-ALL { term allow-ping { from { protocol icmp; } then accept; } term allow-ssh { from { protocol tcp; port 22; } then accept; } } } access { address-assignment { pool junosDHCPPool { family inet { network 192.168.1.0/24; range junosRange { low 192.168.1.2; high 192.168.1.254; } dhcp-attributes { router { 192.168.1.1; } propagate-settings ge-0/0/0.0; } } } } } vlans { vlan-trust { vlan-id 3; l3-interface irb.0; } } protocols { ospf { traffic-engineering; area 0.0.0.0 { interface lo0.0; interface ge-0/0/2.0 { interface-type p2p; link-protection; bfd-liveness-detection { minimum-interval 300; multiplier 3; } ldp-synchronization; } interface ge-0/0/0.0 { disable; } } } bgp { group iBGP-IPV4-UNICAST { type internal; local-address 10.100.250.1; neighbor 10.100.250.2; } } ldp { track-igp-metric; explicit-null; interface ge-0/0/0.0 { disable; } interface ge-0/0/2.0; interface lo0.0; } mpls { explicit-null; interface lo0.0; interface ge-0/0/2.0; interface ge-0/0/0.0 { disable; } } l2-learning { global-mode switching; } rstp { interface all; } } poe { interface all; } routing-options { router-id 10.100.250.1; autonomous-system 64790; static { route 0.0.0.0/0 next-hop 172.27.200.1; } }