<configuration changed-seconds="1758828599" changed-localtime="2025-09-25 19:29:59 UTC">
  <version>24.2R2-S1.7</version>
  <groups>
    <name>basic</name>
    <system>
      <host-name>MLRENGBSMSRX01</host-name>
      <root-authentication>
        <encrypted-password>$6$PkA7vUMi$uwFYXquY5xsodND9HLzFRV40/.4.nV/oE15uIOhkI0YHign6YHcHL/jtWO6UJYUoTpRYGhEJQJJkIYblsAevn/</encrypted-password>
      </root-authentication>
      <login>
        <user>
          <name>admin</name>
          <uid>2000</uid>
          <class>super-user</class>
          <authentication>
            <encrypted-password>$6$fl8/GUGb$P5D35A7dtiV9weNeb4Km8sdgxbLJjj78Oc43.pvNFmlVGt5epmX/9COWa2.YT9KaCyd9CcasWx704YyGWr6ym.</encrypted-password>
          </authentication>
        </user>
      </login>
      <services>
        <netconf>
          <ssh/>
        </netconf>
        <ssh>
          <sftp-server/>
        </ssh>
      </services>
      <name-server>
        <name>8.8.8.8</name>
      </name-server>
    </system>
  </groups>
  <apply-groups>basic</apply-groups>
  <security>
    <address-book>
      <name>global</name>
      <address>
        <name>local-net</name>
        <ip-prefix>172.27.200.0/24</ip-prefix>
      </address>
      <address>
        <name>srx-interface</name>
        <ip-prefix>172.27.200.200/32</ip-prefix>
      </address>
    </address-book>
    <screen>
      <ids-option>
        <name>untrust-screen</name>
        <icmp>
          <ping-death/>
        </icmp>
        <ip>
          <source-route-option/>
          <tear-drop/>
        </ip>
        <tcp>
          <syn-flood>
            <alarm-threshold>1024</alarm-threshold>
            <attack-threshold>200</attack-threshold>
            <source-threshold>1024</source-threshold>
            <destination-threshold>2048</destination-threshold>
            <timeout>20</timeout>
          </syn-flood>
          <land/>
        </tcp>
      </ids-option>
    </screen>
    <nat>
      <source>
        <rule-set>
          <name>trust-to-untrust</name>
          <from>
            <zone>trust</zone>
          </from>
          <to>
            <zone>untrust</zone>
          </to>
          <rule>
            <name>source-nat-rule</name>
            <src-nat-rule-match>
              <source-address>0.0.0.0/0</source-address>
            </src-nat-rule-match>
            <then>
              <source-nat>
                <interface/>
              </source-nat>
            </then>
          </rule>
        </rule-set>
      </source>
    </nat>
    <policies>
      <policy>
        <from-zone-name>trust</from-zone-name>
        <to-zone-name>trust</to-zone-name>
        <policy>
          <name>trust-to-trust</name>
          <match>
            <source-address>any</source-address>
            <destination-address>any</destination-address>
            <application>any</application>
          </match>
          <then>
            <permit/>
          </then>
        </policy>
      </policy>
      <policy>
        <from-zone-name>trust</from-zone-name>
        <to-zone-name>untrust</to-zone-name>
        <policy>
          <name>trust-to-untrust</name>
          <match>
            <source-address>any</source-address>
            <destination-address>any</destination-address>
            <application>any</application>
          </match>
          <then>
            <permit/>
          </then>
        </policy>
        <policy>
          <name>allow-ssh-ping</name>
          <match>
            <source-address>local-net</source-address>
            <destination-address>srx-interface</destination-address>
            <application>junos-ping</application>
            <application>junos-ssh</application>
          </match>
          <then>
            <permit/>
          </then>
        </policy>
      </policy>
    </policies>
    <zones>
      <security-zone>
        <name>trust</name>
        <host-inbound-traffic>
          <system-services>
            <name>all</name>
          </system-services>
          <protocols>
            <name>all</name>
          </protocols>
        </host-inbound-traffic>
        <interfaces>
          <name>irb.0</name>
        </interfaces>
        <interfaces>
          <name>ge-0/0/0.0</name>
        </interfaces>
        <interfaces>
          <name>ge-0/0/2.0</name>
        </interfaces>
        <interfaces>
          <name>lo0.0</name>
        </interfaces>
      </security-zone>
      <security-zone>
        <name>untrust</name>
        <screen>untrust-screen</screen>
        <interfaces>
          <name>dl0.0</name>
          <host-inbound-traffic>
            <system-services>
              <name>tftp</name>
            </system-services>
          </host-inbound-traffic>
        </interfaces>
      </security-zone>
    </zones>
  </security>
  <interfaces>
    <interface>
      <name>ge-0/0/0</name>
      <description>Vector-net</description>
      <unit>
        <name>0</name>
        <family>
          <inet>
            <address>
              <name>172.27.200.200/24</name>
            </address>
          </inet>
        </family>
      </unit>
    </interface>
    <interface>
      <name>ge-0/0/1</name>
      <description>TEST</description>
      <unit>
        <name>0</name>
        <family>
          <inet>
            <address>
              <name>10.100.255.1/30</name>
            </address>
          </inet>
        </family>
      </unit>
    </interface>
    <interface>
      <name>ge-0/0/2</name>
      <description>ETH|MLRENGBSMSRX01|GE-0/0/2|1G|1G|_|WAN</description>
      <unit>
        <name>0</name>
        <family>
          <inet>
            <address>
              <name>10.255.0.0/31</name>
            </address>
          </inet>
          <mpls/>
        </family>
      </unit>
    </interface>
    <interface>
      <name>ge-0/0/6</name>
      <unit>
        <name>0</name>
        <family>
          <ethernet-switching>
            <vlan>
              <members>vlan-trust</members>
            </vlan>
          </ethernet-switching>
        </family>
      </unit>
    </interface>
    <interface>
      <name>ge-0/0/7</name>
      <unit>
        <name>0</name>
        <family>
          <inet>
            <dhcp>
              <vendor-id>Juniper-srx320</vendor-id>
            </dhcp>
          </inet>
        </family>
      </unit>
    </interface>
    <interface>
      <name>ge-0/0/10</name>
      <description>ETH|10</description>
      <unit>
        <name>0</name>
        <family>
          <inet>
            <address>
              <name>10.100.255.5/30</name>
            </address>
          </inet>
        </family>
      </unit>
    </interface>
    <interface>
      <name>ge-0/0/11</name>
      <description>ETH|11</description>
      <unit>
        <name>0</name>
        <family>
          <inet>
            <address>
              <name>10.100.100.1/30</name>
            </address>
          </inet>
        </family>
      </unit>
    </interface>
    <interface>
      <name>cl-1/0/0</name>
      <dialer-options>
        <pool>
          <name>1</name>
          <priority>100</priority>
        </pool>
      </dialer-options>
    </interface>
    <interface>
      <name>dl0</name>
      <unit>
        <name>0</name>
        <family>
          <inet>
            <negotiate-address/>
          </inet>
          <inet6>
            <negotiate-address/>
          </inet6>
        </family>
        <dialer-options>
          <pool>1</pool>
          <dial-string>1234</dial-string>
          <always-on/>
        </dialer-options>
      </unit>
    </interface>
    <interface>
      <name>irb</name>
      <unit>
        <name>0</name>
        <family>
          <inet>
            <address>
              <name>192.168.1.1/24</name>
            </address>
          </inet>
        </family>
      </unit>
    </interface>
    <interface>
      <name>lo0</name>
      <description>LOOPBACK</description>
      <unit>
        <name>0</name>
        <family>
          <inet>
            <address>
              <name>10.100.250.1/32</name>
              <primary/>
              <preferred/>
            </address>
          </inet>
        </family>
      </unit>
    </interface>
  </interfaces>
  <policy-options>
    <policy-statement>
      <name>export_policy</name>
      <term>
        <name>1</name>
        <from>
          <protocol>direct</protocol>
          <route-filter>
            <address>10.0.1.0/24</address>
            <exact/>
          </route-filter>
          <route-filter>
            <address>10.0.2.0/24</address>
            <exact/>
          </route-filter>
          <route-filter>
            <address>10.0.3.0/24</address>
            <exact/>
          </route-filter>
        </from>
        <then>
          <accept/>
        </then>
      </term>
      <term>
        <name>2</name>
        <then>
          <reject/>
        </then>
      </term>
    </policy-statement>
    <policy-statement>
      <name>import_policy</name>
      <term>
        <name>1</name>
        <from>
          <protocol>bgp</protocol>
          <route-filter>
            <address>100.94.26.0/24</address>
            <exact/>
          </route-filter>
          <route-filter>
            <address>100.94.27.0/24</address>
            <exact/>
          </route-filter>
        </from>
        <then>
          <accept/>
        </then>
      </term>
      <term>
        <name>2</name>
        <then>
          <reject/>
        </then>
      </term>
    </policy-statement>
  </policy-options>
  <firewall>
    <filter>
      <name>ALLOW-ALL</name>
      <term>
        <name>allow-ping</name>
        <from>
          <protocol>icmp</protocol>
        </from>
        <then>
          <accept/>
        </then>
      </term>
      <term>
        <name>allow-ssh</name>
        <from>
          <protocol>tcp</protocol>
          <port>22</port>
        </from>
        <then>
          <accept/>
        </then>
      </term>
    </filter>
  </firewall>
  <access>
    <address-assignment>
      <pool>
        <name>junosDHCPPool</name>
        <family>
          <inet>
            <network>192.168.1.0/24</network>
            <range>
              <name>junosRange</name>
              <low>192.168.1.2</low>
              <high>192.168.1.254</high>
            </range>
            <dhcp-attributes>
              <router>
                <name>192.168.1.1</name>
              </router>
              <propagate-settings>ge-0/0/0.0</propagate-settings>
            </dhcp-attributes>
          </inet>
        </family>
      </pool>
    </address-assignment>
  </access>
  <vlans>
    <vlan>
      <name>vlan-trust</name>
      <vlan-id>3</vlan-id>
      <l3-interface>irb.0</l3-interface>
    </vlan>
  </vlans>
  <protocols>
    <ospf>
      <traffic-engineering/>
      <area>
        <name>0.0.0.0</name>
        <interface>
          <name>lo0.0</name>
        </interface>
        <interface>
          <name>ge-0/0/2.0</name>
          <interface-type>p2p</interface-type>
          <link-protection/>
          <bfd-liveness-detection>
            <minimum-interval>300</minimum-interval>
            <multiplier>3</multiplier>
          </bfd-liveness-detection>
          <ldp-synchronization/>
        </interface>
        <interface>
          <name>ge-0/0/0.0</name>
          <disable/>
        </interface>
      </area>
    </ospf>
    <bgp>
      <group>
        <name>iBGP-IPV4-UNICAST</name>
        <type>internal</type>
        <local-address>10.100.250.1</local-address>
        <neighbor>
          <name>10.100.250.2</name>
        </neighbor>
      </group>
    </bgp>
    <ldp>
      <track-igp-metric/>
      <explicit-null/>
      <interface>
        <name>ge-0/0/0.0</name>
        <disable/>
      </interface>
      <interface>
        <name>ge-0/0/2.0</name>
      </interface>
      <interface>
        <name>lo0.0</name>
      </interface>
    </ldp>
    <mpls>
      <explicit-null/>
      <interface>
        <name>lo0.0</name>
      </interface>
      <interface>
        <name>ge-0/0/2.0</name>
      </interface>
      <interface>
        <name>ge-0/0/0.0</name>
        <disable/>
      </interface>
    </mpls>
    <l2-learning>
      <global-mode>switching</global-mode>
    </l2-learning>
    <rstp>
      <interface>
        <name>all</name>
      </interface>
    </rstp>
  </protocols>
  <poe>
    <interface>
      <name>all</name>
    </interface>
  </poe>
  <routing-options>
    <router-id>10.100.250.1</router-id>
    <autonomous-system>
      <as-number>64790</as-number>
    </autonomous-system>
    <static>
      <route>
        <name>0.0.0.0/0</name>
        <next-hop>172.27.200.1</next-hop>
      </route>
    </static>
  </routing-options>
</configuration>
