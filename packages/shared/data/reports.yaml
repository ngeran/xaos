# This file defines all runnable tests for our reporter.
# Adding a new entry here makes it available to the script.

test_bgp_summary:
  title: "BGP Neighbor"
  category: "Routing"
  rpc: "get-bgp-summary-information"
  xpath: ".//bgp-peer"
  fields:
    Address: "peer-address"
    "Remote AS": "peer-as"
    Flaps: "flap-count"
    State: "peer-state"
    "Up/Down Time": "elapsed-time"

test_interfaces:
  title: "Interface Status"
  category: "Interfaces"
  rpc: "get-interface-information"
  # We can pass arguments to the RPC call
  rpc_args:
    terse: true
  xpath: ".//physical-interface"
  fields:
    "Interface Name": "name"
    "Admin Status": "admin-status"
    "Link Status": "oper-status"

test_ospf_neighbors:
  title: "OSPF Neighbor"
  category: "Routing"
  rpc: "get-ospf-neighbor-information"
  xpath: ".//ospf-neighbor"
  fields:
    "Interface": "interface-name"
    "Neighbor ID": "neighbor-id"
    "State": "ospf-neighbor-state"
    "Address": "neighbor-address"
    "Up/Down Time": "ospf-neighbor-up-time"

test_ldp_sessions:
  title: "LDP Session"
  category: "MPLS"
  rpc: "get-ldp-session-information"
  xpath: ".//ldp-session"
  fields:
    "Neighbor": "ldp-neighbor-address"
    "State": "ldp-session-state"
    "Up/Down Time": "ldp-connection-uptime"
    "Label Distribution": "ldp-label-distribution"

test_rsvp_sessions:
  title: "RSVP Session"
  category: "MPLS"
  rpc: "get-rsvp-session-information"
  xpath: ".//rsvp-session"
  fields:
    "Destination": "rsvp-destination-address"
    "Source": "rsvp-source-address"
    "State": "rsvp-session-state"
    "Type": "rsvp-session-type"
    "LSP Name": "rsvp-lsp-name"

test_mpls_interfaces:
  title: "MPLS Interface Status"
  category: "MPLS"
  rpc: "get-mpls-interface-information"
  xpath: ".//mpls-interface"
  fields:
    "Interface": "interface-name"
    "Admin Status": "interface-admin-status"
    "Oper Status": "interface-oper-status"
    "RSVP Status": "rsvp-status"
    "LDP Status": "ldp-status"

test_system_alarms:
  title: "System Alarms"
  category: "System"
  rpc: "get-system-alarm-information"
  xpath: ".//alarm-detail"
  fields:
    "Alarm Class": "alarm-class"
    "Description": "alarm-description"
    "Severity": "alarm-severity"
    "Time": "alarm-time"
# You can easily add more tests here in the future
# test_chassis_alarms:
#   title: "Active Chassis Alarms"
#   rpc: "get-alarm-information"
#   xpath: ".//alarm-detail"
#   fields:
#     Class: "alarm-class"
#     Description: "alarm-description"
#     Time: "alarm-time"
